# Static inventory for Kubernetes cluster
# This is an example - you need to fill in actual IP addresses
# 
# To get the IPs of your VMs, run:
#   yc compute instance list
# 
# The master should have a public IP, workers will have internal IPs only
# Workers must be accessed via ProxyJump through the master

[local]
localhost ansible_connection=local

[k8s_master]
k8s-master ansible_host=<MASTER_PUBLIC_IP> ansible_user=ajasta ansible_become=true

[k8s_workers]
k8s-worker-1 ansible_host=<WORKER1_INTERNAL_IP> ansible_user=ajasta ansible_become=true ansible_ssh_common_args='-o ProxyJump=ajasta@<MASTER_PUBLIC_IP> -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'
k8s-worker-2 ansible_host=<WORKER2_INTERNAL_IP> ansible_user=ajasta ansible_become=true ansible_ssh_common_args='-o ProxyJump=ajasta@<MASTER_PUBLIC_IP> -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null'

[k8s:children]
k8s_master
k8s_workers

[k8s:vars]
ansible_ssh_private_key_file=~/.ssh/id_rsa
ansible_ssh_common_args=-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null -o GlobalKnownHostsFile=/dev/null -o CheckHostIP=no -o ConnectTimeout=10 -o ServerAliveInterval=5 -o ServerAliveCountMax=3 -o ConnectionAttempts=10
